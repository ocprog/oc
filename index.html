<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR スライム討伐 - コントローラー完全対応</title>
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="aframe-physics-system.min.js"></script>
    <script src="game-components.js"></script> 
</head>
<body>
    <a-scene physics="gravity: -9.8; debug: true; iterations: 20; friction: 0.8; restitution: 0.5" 
             game-state 
             renderer="colorManagement: true"> 
        
        <a-entity camera look-controls wasd-controls 
                  position="0 1.6 0" 
                  id="player-camera">
            
            <a-entity position="0 0.2 -1.5" text="value: HP: 3; color: white; align: center" id="hp-text"></a-entity>
            <a-entity position="0 0.0 -1.5" text="value: SCORE: 0; color: white; align: center" id="score-text"></a-entity>
            
            <a-entity id="restart-button" position="0 -0.4 -1.2" visible="false">
                <a-plane width="0.8" height="0.3" color="#333" class="clickable" id="restart-plane"></a-plane>
                <a-text value="RESTART GAME" align="center" width="4" position="0 0 0.02"></a-text>
            </a-entity>

            <a-entity cursor="fuse: false; rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
        </a-entity>

        <a-entity id="left-hand" 
                  oculus-touch-controls="hand: left" 
                  vive-controls="hand: left" 
                  windows-motion-controls="hand: left" 
                  static-body="shape: box" shield>
            <a-box color="#393736" width="0.4" height="0.6" depth="0.05" position="0.05 0.05 -0.1" rotation="0 0 0" shadow></a-box>
        </a-entity>

        <a-entity id="right-hand" 
                  oculus-touch-controls="hand: right" 
                  vive-controls="hand: right" 
                  windows-motion-controls="hand: right" 
                  static-body="shape: box" 
                  raycaster="objects: .clickable; far: 5; showLine: true" sword>
            <a-box color="#A94442" width="0.05" height="0.05" depth="0.15" position="0 0 0.075" rotation="90 0 0"></a-box>
            <a-cylinder color="#EEEEEE" radius="0.02" height="1.0" position="0 0.5 0.075" rotation="90 0 0" shadow></a-cylinder>
        </a-entity>
        
        <a-entity slime-generator></a-entity>

        <a-box static-body position="0 -0.05 0" width="40" height="0.1" depth="40" color="#5a9c5e"></a-box>
        <a-sky color="#B0E0E6"></a-sky>
        <a-light type="ambient" color="#BBB"></a-light>
        <a-light type="directional" position="-0.5 1 1"></a-light>
    </a-scene>
</body>
</html>